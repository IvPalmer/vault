---
phase: 01-ui-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - FinanceDashboard/dashboard.py
  - FinanceDashboard/styles.py
autonomous: true

must_haves:
  truths:
    - "User sees three main tabs: Monthly Overview, Analytics, Settings"
    - "Monthly Overview tab contains month picker and transaction data"
    - "Analytics tab shows all-time charts and reports"
    - "Settings tab contains configuration sections with nested tabs"
    - "App always starts at Monthly Overview tab"
  artifacts:
    - path: "FinanceDashboard/dashboard.py"
      provides: "Top-level navigation structure with three main tabs"
      contains: "st.tabs([\"Monthly Overview\", \"Analytics\", \"Settings\"])"
    - path: "FinanceDashboard/styles.py"
      provides: "Tab styling for main navigation"
      contains: "stTabs"
  key_links:
    - from: "FinanceDashboard/dashboard.py"
      to: "components.py"
      via: "import and render calls"
      pattern: "render_.*"
---

<objective>
Restructure dashboard navigation from month-based tabs to the target three-tab structure: Monthly Overview, Analytics, Settings.

Purpose: The current dashboard uses months as top-level tabs, but the user wants a cleaner structure where Overview shows the current month's full dashboard, Analytics shows all-time data, and Settings contains all configuration. This foundational change enables all other UI work.

Output: Dashboard with three main tabs, month picker inside Overview, existing content reorganized into correct tabs.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-ui-foundation/01-CONTEXT.md

# Current implementation
@FinanceDashboard/dashboard.py
@FinanceDashboard/styles.py
@FinanceDashboard/components.py
</context>

<tasks>

<task type="auto">
  <name>Task 1: Restructure main navigation to three-tab layout</name>
  <files>FinanceDashboard/dashboard.py</files>
  <action>
Replace the month-based tabs structure with three main tabs:

1. Create main tab structure at top level:
   ```python
   tab_overview, tab_analytics, tab_settings = st.tabs(["Monthly Overview", "Analytics", "Settings"])
   ```

2. Inside `tab_overview`:
   - Add month picker dropdown (st.selectbox) at top, defaulting to current month
   - Move all current month-specific content here: vault summary, control metrics, recurrents grids, cards grids
   - Month picker controls which month's data is shown

3. Inside `tab_analytics`:
   - Render the analytics dashboard (already exists as render_analytics_dashboard)
   - Pass full dataframe (not month-filtered) for all-time view
   - Add placeholder heading if render_analytics_dashboard needs month param

4. Inside `tab_settings`:
   - Create nested tabs: Categories, Rules, Budgets, Import
   - Move render_fixed_management into Settings > Budgets
   - Add placeholders for other settings sections (will be implemented in future phases)

5. Remove the old month-based tabs loop entirely.

Keep all existing render_* function calls but reorganize them into the correct tabs.
  </action>
  <verify>
Run `streamlit run FinanceDashboard/dashboard.py` and confirm:
- Three tabs visible at top: Monthly Overview, Analytics, Settings
- Month picker appears inside Overview tab
- Selecting different months updates the Overview content
- Analytics tab shows charts
- Settings tab has nested tabs
  </verify>
  <done>
Dashboard loads with three main tabs. Monthly Overview shows current month with picker. Analytics shows all-time data. Settings shows nested configuration tabs.
  </done>
</task>

<task type="auto">
  <name>Task 2: Polish tab styling for main navigation</name>
  <files>FinanceDashboard/styles.py</files>
  <action>
Update tab CSS for cleaner main navigation:

1. Main tabs should be larger/more prominent (they're the primary nav)
2. Ensure tab underline indicator is clear
3. Add smooth transitions for tab switches
4. Nested tabs in Settings should be visually distinct (smaller, less prominent)

Update the `.stTabs` CSS section:
- Increase gap between tabs
- Use bolder font-weight for selected tab
- Add transition: color 0.2s for smooth hover
- Style nested tabs differently using CSS specificity or :has() if needed

Keep the Inter font and current color scheme.
  </action>
  <verify>
Visual inspection: tabs look polished, selected state is clear, nested tabs are visually subordinate to main tabs.
  </verify>
  <done>
Main navigation tabs are visually prominent with clear selected state. Nested tabs are clearly secondary navigation.
  </done>
</task>

</tasks>

<verification>
1. `streamlit run FinanceDashboard/dashboard.py` launches without errors
2. Three main tabs visible: Monthly Overview, Analytics, Settings
3. Monthly Overview contains: month picker, summary metrics, recurrents, cards
4. Changing month in picker updates all content in Overview
5. Analytics shows charts (not month-scoped)
6. Settings has nested tabs for configuration
7. App starts at Monthly Overview tab by default
</verification>

<success_criteria>
- Dashboard structure matches target navigation: Overview/Analytics/Settings
- Month picker works within Overview tab
- All existing functionality preserved (just reorganized)
- Visual styling is clean and tabs are clearly distinguishable
</success_criteria>

<output>
After completion, create `.planning/phases/01-ui-foundation/01-01-SUMMARY.md`
</output>
